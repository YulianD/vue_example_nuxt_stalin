(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{389:function(r,t,e){"use strict";e.r(t);e(77),e(78);var o=e(17),n=e(113),c=(e(385),{asyncData:function(){var r=Object(o.a)(regeneratorRuntime.mark(function r(t){var e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.app,t.params,t.store,r.next=3,n.b.collection("categorias").get().then(function(r){var t=[];return r.forEach(function(r){t.push(r.data().nombre)}),{ca:t}});case 3:return e=(e=r.sent).ca,r.abrupt("return",{categorias:e});case 6:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}(),created:function(){var r=this,t=this.$store.state.producto;this.id=t,n.b.collection("productos").doc(t).get().then(function(t){r.producto=t.data(),console.log(r.producto)})},watch:{producto:{handler:function(r){this.form={nombre:r.nombre,cantidad:r.cantidad,precio:r.precio}}}},data:function(){return{form:{nombre:"",cantidad:"",precio:""},id:null,producto:null,guardando:!1,imageProduct:""}},methods:{guardarProducto:function(){var r=this;this.guardando=!0,n.c.child(this.imageProduct.name).put(this.imageProduct).then(function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ref.getDownloadURL();case 2:r.form.imagen=t.sent,n.b.collection("productos").doc(r.id).update(r.form).then(function(t){r.guardando=!1,alert("registro actualizado!"),r.$router.push({path:"/productos"})});case 4:case"end":return t.stop()}},t)}));return function(r){return t.apply(this,arguments)}}())}}}),d=e(27),component=Object(d.a)(c,function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("form",{attrs:{name:"from producto"},on:{submit:function(t){return t.preventDefault(),r.guardarProducto(t)}}},[e("h1",[r._v("Desde productos- Crear")]),r._v(" "),e("b-container",{staticClass:"bv-example-row"},[e("b-row",[e("b-col",{attrs:{col:"12",md:"4","offset-md":"4"}},[e("div",{staticClass:"form-group"},[e("b-form-group",{attrs:{label:"imagen:","label-for":"imagen"}},[e("b-form-file",{attrs:{placeholder:"cargar imagen",accept:"image/*"},model:{value:r.imageProduct,callback:function(t){r.imageProduct=t},expression:"imageProduct"}})],1),r._v(" "),e("label",{attrs:{for:"nombre"}},[r._v("Nombre del producto")]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.form.nombre,expression:"form.nombre"}],staticClass:"form-control",attrs:{value:"adsfdasf",type:"text",name:"Nombre del producto",placeholder:"ingresar nombre",required:""},domProps:{value:r.form.nombre},on:{input:function(t){t.target.composing||r.$set(r.form,"nombre",t.target.value)}}}),r._v(" "),e("label",{attrs:{for:"precio"}},[r._v("Precio")]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.form.precio,expression:"form.precio"}],staticClass:"form-control",attrs:{type:"number",name:"precio",placeholder:"ingresar precio",required:""},domProps:{value:r.form.precio},on:{input:function(t){t.target.composing||r.$set(r.form,"precio",t.target.value)}}}),r._v(" "),e("label",{attrs:{for:"cantidad"}},[r._v("cantidad")]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.form.cantidad,expression:"form.cantidad"}],staticClass:"form-control",attrs:{type:"number",name:"cantidad",placeholder:"ingresar cantidad",required:""},domProps:{value:r.form.cantidad},on:{input:function(t){t.target.composing||r.$set(r.form,"cantidad",t.target.value)}}}),r._v(" "),e("b-form-group",{attrs:{id:"categoria",options:r.categorias},model:{value:r.form.categoria,callback:function(t){r.$set(r.form,"categoria",t)},expression:"form.categoria"}}),r._v(" "),e("b-form-select",{staticClass:"mt-3",attrs:{options:r.categorias,size:"sm"},model:{value:r.form.categoria,callback:function(t){r.$set(r.form,"categoria",t)},expression:"form.categoria"}})],1),r._v(" "),e("div",{staticClass:"row",attrs:{id:"galeria"}})])],1),r._v(" "),e("b-row",{staticClass:"text-center"},[e("b-col",{attrs:{lg:"6",md:"6","offset-md":"3"}},[e("b-button",{attrs:{variant:"primary",href:"/productos"}},[r._v("cancelar")]),r._v(" "),e("b-button",{attrs:{variant:"primary",type:"submit",disabled:r.guardando}},[r.guardando?e("b-spinner",{attrs:{small:""}}):r._e(),r._v(" "),e("span",{staticClass:"sr-only"},[r._v("Loading...")]),r._v("\n                    actualizar\n                ")],1)],1)],1)],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);